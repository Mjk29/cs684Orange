(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,t,a){e.exports=a(359)},164:function(e,t,a){},359:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(154),s=a(27),c=a(44),i=a(25),l=a(50),u=a(12),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NEWS":return console.log("reducer for getting news"),Object(u.a)({},e,{loading:!0});case"NEWS_RECEIVED":return console.log("reducer for news received"),console.log(t.json),Object(u.a)({},e,{apiResult:t.json,loading:!1});case"GET_ITEMS":return Object(u.a)({},e,{loading:!0});case"GET_ERROR":return console.log("reducer for get error"),Object(u.a)({},e,{loading:!1});case"RECEIVED_ITEMS":return Object(u.a)({},e,{items:t.json,loading:!1});case"PRINT_ITEMS":case"SEARCH_TERM":return Object(u.a)({},e);case"SEARCH_RESULT":return console.log("heres the reducer for search result"),console.log(t),Object(u.a)({},e,{searchTerm:t.searchResult});case"FETCH_FROM_SERVER":switch(t.searchObj.searchType){case"fetchCartItems":case"addItemToCart":case"checkoutItems":return Object(u.a)({},e);default:return Object(u.a)({},e,{loading:!0})}case"FETCHED_SINGLE_ITEM":return Object(u.a)({},e,{loading:!1,singleItem:t,multipleItems:[]});case"FETCHED_MULTIPLE_ITMES":return Object(u.a)({},e,{loading:!1,singleItem:[],multipleItems:t.items});case"ADD_ITEM_TO_CART":return Object(u.a)({},e,{cartItems:e.cartItems.concat(t.item)});case"LOGIN_USER":return localStorage.setItem("previouslyLoggedIn",!0),Object(u.a)({},e,{userEmail:t.searchObj.query.authEmail,userHasAuthenticated:!0});case"LOGIN_USER_UPDATE_LOCAL_VARS":return t.items.affectedRows,Object(u.a)({},e);case"CHANGE_USER_LOGIN_WINDOW_STATE":return Object(u.a)({},e,{loginWindowState:t.loginState.loginWindowState});case"CHANGE_USER_REGISTER_WINDOW_STATE":return console.log("CHANGE_USER_REGISTER_WINDOW_STATE: "),console.log(t),Object(u.a)({},e,{registerWindowState:t.registerWindowState});case"TOGGLE_REGISTER_MODAL":return console.log(e),Object(u.a)({},e,{registerWindowState:!e.registerWindowState});case"CHANGE_USER_REGISTER_WINDOW_STATE":return Object(u.a)({},e,{registerWindowState:t.registerWindowState});case"TOGGLE_REGISTER_MODAL":return Object(u.a)({},e,{registerWindowState:!e.registerWindowState});case"TOGGLE_LOGIN_MODAL":return Object(u.a)({},e,{loginWindowState:!e.loginWindowState});case"TOGGLE_CART_MODAL":return Object(u.a)({},e,{cartModalState:!e.cartModalState});case"ADD_ENTIRE_ITEM_DATA_TO_CART":return Object(u.a)({},e,{cartItems:Object(u.a)({},e.cartItems,Object(l.a)({},t.items[0].productId,2)),loading:!1});case"REMOVE_ITEM_FROM_CART":return Object(u.a)({},e);case"FETCHED_CART_ITEMS":return Object(u.a)({},e,{loading:!1,cartItems:t.items});case"CHECKOUT_ITEMS":return Object(u.a)({},e);case"CONNECT_TO_MASTER_SERVER":return Object(u.a)({},e,{loading:!0});default:return e}},m=a(30),p=a(31),g=a(33),h=a(32),E=a(34),f=(a(164),function(e){return{type:"FETCH_FROM_SERVER",searchObj:e}}),S=function(e){return{type:"LOGIN_USER",searchObj:e}},O=function(e){return{type:"TOGGLE_CART_MODAL",cartModalState:e}},I=a(361),b=a(362),T=a(146),w=a(144),v=a.n(w),_=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={allowNew:!1,isLoading:!1,multiple:!1,options:[]},a.addtoCart=function(e){console.log(e)},a.test=function(){console.log("TESTING"),console.log(a.props)},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"itemPrinter",value:function(){var e=this;if(!1!==this.props.loading)return r.a.createElement("div",null,"loading");if(0!==this.props.multipleItems.length){console.log("rendering multiple items");var t=this.props.multipleItems.map(function(t){return r.a.createElement("div",{className:"contact-card"},r.a.createElement(I.a,{fullHeight:!0,style:{"text-align":"center"}},r.a.createElement(b.a,null,r.a.createElement("img",{style:{width:150,height:150},src:t.imageUrl+".jpeg?odnHeight=150&odnWidth=150&odnBg=FFFFFF",alt:"itemImage"})),r.a.createElement(b.a,null,"$"+t.price.toFixed(2)+"\n"),r.a.createElement(b.a,null,t.title+"\n"),r.a.createElement(b.a,null,r.a.createElement(T.a,{color:"warning",onClick:function(){return e.props.fetchFromServer({searchType:"addItemToCart",yieldAction:"UPDATE_CART_DISPLAY",query:{item:{productId:t.productId,usItemId:t.usItemId},quantity:e.refs[JSON.stringify({productId:t.productId,usItemId:t.usItemId})].state.value,userEmail:e.props.userEmail}})}},"add to cart"),r.a.createElement(v.a,{min:1,max:100,value:1,strict:!0,id:JSON.stringify({productId:t.productId,usItemId:t.usItemId}),ref:JSON.stringify({productId:t.productId,usItemId:t.usItemId})}))))});return console.log("Heres the render"),console.log(t),t}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"contacts"},this.itemPrinter()))}}]),t}(n.Component),j=_=Object(i.b)(function(e){return{apiResult:e.apiResult,loading:e.loading,singleItem:e.singleItem,multipleItems:e.multipleItems,userEmail:e.userEmail}},function(e){return{addItemToCart:function(t){return e({type:"ADD_ITEM_TO_CART",item:t})},fetchFromServer:function(t){return e(f(t))}}})(_),y=a(14),R=a.n(y),C=a(57),A=a(7),L=a(363),D=a(379),k=a(364),M=a(365),N=a(366),x=a(367),W=a(368),P=a(45),G=a.n(P),F=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).updateUsername=function(e){a.setState({username:e.target.value})},a.updatePassword=function(e){a.setState({password:e.target.value})},a.userLogin=Object(C.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===a.state.username.length||0===a.state.password.length){e.next=11;break}return e.prev=1,e.next=4,P.Auth.signIn(a.state.username,a.state.password);case 4:a.setState({userHasAuthenticated:!0,loginError:""}),a.props.userLoginDispatch({query:{tempToken:localStorage.userEmail,authEmail:a.state.username},searchType:"modifyCartToken",yieldAction:"LOGIN_USER_UPDATE_LOCAL_VARS"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.setState({loginError:e.t0.message,userHasAuthenticated:!1});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),a.loginErrorDisplay=function(){return 0!==a.state.loginError.length?r.a.createElement(L.a,{id:"unsuccesfullogin",color:"danger"},a.state.loginError):!0===a.state.userHasAuthenticated?r.a.createElement(L.a,{id:"succesfulogin",color:"success"},"User logged in"):void 0},a.state={loading:!1,modal:!1,loginWindowState:!1,username:"admin@example.com",password:"Passw0rd!",loginError:"",userHasAuthenticated:!1},a.toggle=a.toggle.bind(Object(A.a)(Object(A.a)(a))),a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(){this.props.toggleLoginWindowDispatch(this.props.loginWindowState)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{isOpen:this.props.loginWindowState,toggle:this.toggle,className:this.props.className},r.a.createElement(k.a,{toggle:this.toggle},"React Web Store Login"),r.a.createElement(M.a,null,r.a.createElement(N.a,null,r.a.createElement(x.a,{name:"username",value:this.state.username,onChange:this.updateUsername,placeholder:"username"})),r.a.createElement(N.a,null,r.a.createElement(x.a,{name:"password",type:"password",value:this.state.password,onChange:this.updatePassword,placeholder:"password"}))),r.a.createElement(W.a,{id:"fuck"},this.loginErrorDisplay(),r.a.createElement(T.a,{id:"submitlogin",color:"success",onClick:this.userLogin},"login")," ")))}}]),t}(r.a.Component),H=F=Object(i.b)(function(e){return{loginWindowState:e.loginWindowState,loading:e.loading}},function(e){return{toggleLoginWindowDispatch:function(t){return e({type:"TOGGLE_LOGIN_MODAL",loginState:t})},userLoginDispatch:function(t){return e(S(t))}}})(F),U=a(369),q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).removeItemFromCart=function(e){console.log("ASDASDASDASD"),console.log(e)},a.renderCartItems=function(){if(console.log("HERE ARE THE CART ITEMS"),console.log(a.props.cartItems),console.log(typeof a.props.cartItems),a.calculateTotalCartPrice(),a.props.cartItems.length>0)return a.props.cartItems.map(function(e){return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(U.a,{md:{size:"1",offset:0}},r.a.createElement("img",{style:{width:50,height:50},src:e.imageUrl+".jpeg?odnHeight=50&odnWidth=50&odnBg=FFFFFF",alt:"itemImage"})),r.a.createElement(U.a,{md:{size:"7",offset:0}},e.title),r.a.createElement(U.a,null,r.a.createElement(b.a,{md:{size:".5",offset:0}},"Price: $"+e.price.toFixed(2)),r.a.createElement(b.a,{md:{size:".5",offset:0}},"Quantity: "+e.quantity)),r.a.createElement(U.a,{md:{size:".5",offset:0}},"Subtotal: $"+(e.quantity*e.price).toFixed(2)),r.a.createElement(U.a,{md:{size:"1",offset:0}},r.a.createElement(T.a,{outline:!0,color:"danger",size:"sm",onClick:function(){return a.props.removeItemFromCartDispatch({searchType:"removeItemFromCart",yieldAction:"UPDATE_CART_DISPLAY",query:{userEmail:a.props.userEmail,productId:e.productID,usItemId:e.usItemId}})}},"Remove"))),r.a.createElement(b.a,null,r.a.createElement(U.a,null,r.a.createElement("hr",{style:{color:"#ffffff",backgroundColor:"#ffffff",height:1}}))))})},a.checkoutItems=function(){a.props.fetchFromServer({query:a.props.userEmail,searchType:"checkoutItems",yieldAction:"TOGGLE_CART_MODAL"})},a.state={loading:!1,modal:!1,cartModalState:!1,username:"",password:"",loginError:"",userHasAuthenticated:!1,totalPrice:0,priceCalculated:!1},a.toggle=a.toggle.bind(Object(A.a)(Object(A.a)(a))),a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(){this.props.toggleCartModalAction(this.props.cartModalState)}},{key:"fetchCartItemsFromDB",value:function(){console.log("fetchCartItemsFromDB function"),this.props.fetchFromServer({query:this.props.userEmail,searchType:"fetchCartItems",yieldAction:"FETCHED_CART_ITEMS"})}},{key:"calculateTotalCartPrice",value:function(){var e=0;if(this.props.cartItems.length>0)for(var t=0;t<this.props.cartItems.length;t++)e+=this.props.cartItems[t].price;this.state.totalPrice=e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(D.a,{size:"xl",isOpen:this.props.cartModalState,toggle:this.toggle,className:this.props.className},r.a.createElement(k.a,{toggle:this.toggle},"React Web Store Login"),r.a.createElement(M.a,null,r.a.createElement(I.a,null,r.a.createElement("div",null,this.renderCartItems()))),r.a.createElement(W.a,null,r.a.createElement(b.a,null,r.a.createElement("h4",null,"Total:    $ "+this.state.totalPrice.toFixed(2))),r.a.createElement(b.a,null,r.a.createElement(T.a,{outline:!0,color:"info",size:"lg",onClick:function(){return e.checkoutItems()}},"Checkout")))))}}]),t}(r.a.Component),V=q=Object(i.b)(function(e){return{cartModalState:e.cartModalState,loading:e.loading,cartItems:e.cartItems,userEmail:e.userEmail}},function(e){return{toggleCartModalAction:function(t){return e(O(t))},userLoginDispatch:function(t){return e(S(t))},removeItemFromCartDispatch:function(t){return e({type:"REMOVE_ITEM_FROM_CART",searchObj:t})},fetchFromServer:function(t){return e(f(t))}}})(q),z=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(l.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(C.a)(R.a.mark(function e(t){var n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),e.prev=2,e.next=5,P.Auth.signUp({username:a.state.email,password:a.state.password});case 5:n=e.sent,a.setState({userHasAuthenticated:!0,loginError:""}),a.setState({newUser:n}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.message),a.setState({loginError:e.t0.message});case 14:a.setState({isLoading:!1});case 15:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),a.handleConfirmationSubmit=function(){var e=Object(C.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({isLoading:!0}),e.prev=2,e.next=5,P.Auth.confirmSignUp(a.state.email,a.state.confirmationCode);case 5:return e.next=7,P.Auth.signIn(a.state.email,a.state.password);case 7:a.props.userHasAuthenticated(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),alert(e.t0.message),a.setState({isLoading:!1,loginError:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),a.updateEmail=function(e){a.setState({email:e.target.value})},a.updatePassword=function(e){a.setState({password:e.target.value})},a.loginErrorDisplay=function(){return 0!==a.state.loginError.length?r.a.createElement(L.a,{id:"userAlreadyExistsAlert",color:"danger"},a.state.loginError):!0===a.state.userHasAuthenticated?r.a.createElement(L.a,{id:"succesfulNewUserRegistration",color:"success"},"Registration was succesfull"):void 0},a.state={isLoading:!1,email:"",password:"",confirmPassword:"",confirmationCode:"",newUser:null,loginError:"",registerWindowState:!1,userHasAuthenticated:!1,modal:!0},a.toggle=a.toggle.bind(Object(A.a)(Object(A.a)(a))),a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(){this.props.toggleRegisterWindowDispatch(this.props.registerWindowState)}},{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"validateConfirmationForm",value:function(){return this.state.confirmationCode.length>0}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{isOpen:this.props.registerWindowState,toggle:this.toggle,className:this.props.className},r.a.createElement(k.a,{toggle:this.toggle},"Web Store Register"),r.a.createElement(M.a,null,r.a.createElement(N.a,null,r.a.createElement(x.a,{name:"registerEmailInput",value:this.state.email,onChange:this.updateEmail,placeholder:"Email"})),r.a.createElement(N.a,null,r.a.createElement(x.a,{name:"registerEmailPassword",type:"password",value:this.state.password,onChange:this.updatePassword,placeholder:"Password"}))),r.a.createElement(W.a,null,this.loginErrorDisplay(),r.a.createElement(T.a,{id:"submitRegisterUser",color:"success",onClick:this.handleSubmit},"register")," ")))}}]),t}(n.Component),J=z=Object(i.b)(function(e){return{registerWindowState:e.registerWindowState,isloading:e.loading}},function(e){return{toggleRegisterWindowDispatch:function(t){return e({type:"TOGGLE_REGISTER_MODAL",registerState:t})}}})(z),B=a(370),K=a(371),Y=a(372),$=a(373),X=a(374),Q=a(375),Z=a(376),ee=a(377),te=a(380),ae=a(378),ne=a(152),re=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).state={allowNew:!1,isLoading:!1,multiple:!1,options:[]},a.itemSearch=function(){a.props.triggerParentUpdate(a.state.singleItemInfo),console.log(a.state.selected[0].productId),fetch("http://"+localStorage.serverAddress+":"+localStorage.serverPort,{method:"POST",mode:"cors",dataType:"jsonp",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchType:"fullItemInfo",query:{productId:a.state.selected[0].productId,usItemId:a.state.selected[0].usItemId}})}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({singleItemInfo:e}),a.setState({isLoading:!1})}).catch(function(e){console.log(e)})},a.fetchfunction=function(e){console.log("Here is the query: "+e),console.log("fetch function"),fetch("http://"+localStorage.serverAddress+":"+localStorage.serverPort,{method:"POST",mode:"cors",dataType:"jsonp",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchType:"autoCompleteSearchBar",query:e})}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({options:e.rows}),console.log(a.state.options),a.setState({isLoading:!1})}).catch(function(e){console.log(e)})},a._handleSearch=function(e){console.log("handling searchj"),a.setState({isLoading:!0}),a.fetchfunction(e)},a.onKeyDown=function(e){console.log("keydown"),console.log(e.key),console.log(a.state.userInput),"Enter"===e.key&&a.props.fetchFromServer({query:a.state.userInput,searchType:"multipleItemSearch",yieldAction:"FETCHED_MULTIPLE_ITMES"})},a.checkState=function(e){console.log("Checking state"),console.log(e)},a.state={response:!1,searchInput:""},a.queryResponse=[],a.autoCompleteResponse=[],a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ne.a,Object.assign({},this.state,{labelKey:"title",isLoading:this.state.isLoading,minLength:3,onInputChange:function(t){return e.setState({userInput:t})},onSearch:this._handleSearch,onKeyDown:this.onKeyDown})))}}]),t}(n.Component),oe=re=Object(i.b)(function(e){return{apiResult:e.apiResult,loading:e.loading}},function(e){return{searchTerm:function(t){return e(function(e){return{type:"SEARCH_TERM",searchTerm:e}}(t))},fetchFromServer:function(t){return e(f(t))}}})(re),se=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).showLoginWindow=function(){a.props.dispatchShowLoginWindow({loginWindowState:!0})},a.showRegisterWindow=function(){a.props.dispatchShowRegisterWindow({registerWindowState:!0})},a.showShoppingCartToggle=function(){a.props.fetchFromServer({query:a.props.userEmail,searchType:"fetchCartItems",yieldAction:"FETCHED_CART_ITEMS"}),a.props.dispatchToggleCartModal({cartModalState:!a.props.cartModalState})},a.logoutUser=function(){localStorage.setItem("userEmail","undefined"),localStorage.setItem("previouslyLoggedIn",!1),window.location.reload()},a.toggle=a.toggle.bind(Object(A.a)(Object(A.a)(a))),a.state={isOpen:!1},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"accountState",value:function(){if(console.log("her are the account stare proops"),console.log(this.props),!1===this.props.loading){if(!0===this.props.userHasAuthenticated)return localStorage.setItem("userEmail",this.props.userEmail),r.a.createElement(B.a,{right:!0},r.a.createElement(K.a,null,"User account"),r.a.createElement(K.a,null,"User Cart"),r.a.createElement(K.a,{divider:!0}),r.a.createElement(K.a,null,"Reset"));if(!1===this.props.userHasAuthenticated)return r.a.createElement(B.a,{right:!0},r.a.createElement(K.a,{id:"clickLoginSequence",onClick:this.showLoginWindow},"Login"),r.a.createElement(K.a,{id:"clickRegisterSequence",onClick:this.showRegisterWindow},"Register"),r.a.createElement(K.a,{divider:!0}),r.a.createElement(K.a,{id:"logoutSequence",onClick:this.logoutUser},"Logout"))}}},{key:"displayUserName",value:function(){return"true"===localStorage.previouslyLoggedIn?r.a.createElement("div",null,this.props.userEmail):r.a.createElement("div",null,"guest")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y.a,{id:"para1",color:"light",light:!0,expand:"xl"},r.a.createElement(I.a,{fluid:"true"},r.a.createElement($.a,{id:"clickMobileMenu",onClick:this.toggle}),r.a.createElement(X.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(b.a,null,r.a.createElement(Q.a,{className:"ml-auto",navbar:!0},r.a.createElement(U.a,{sm:{size:2,offset:0}},r.a.createElement(Z.a,null,"React Webstore")),r.a.createElement(U.a,{sm:{size:8,offset:0}},r.a.createElement(ee.a,null,r.a.createElement(oe,null))),r.a.createElement(U.a,{sm:{size:2,offset:0}},r.a.createElement(T.a,{outline:!0,color:"success",onClick:this.showShoppingCartToggle},"    Shopping Cart    ")),r.a.createElement(U.a,{sm:{size:3,offset:1}},r.a.createElement(b.a,null,"Hello"),r.a.createElement(b.a,null,this.displayUserName())),r.a.createElement(U.a,{sm:{size:2,offset:0}},r.a.createElement(te.a,{nav:!0,inNavbar:!0},r.a.createElement(ae.a,{id:"dropDownToggle",nav:!0,caret:!0},"Account Settings"),r.a.createElement("div",{className:"contacts"},this.accountState())))))))))}}]),t}(r.a.Component),ce=se=Object(i.b)(function(e){return{userEmail:e.userEmail,loading:e.loading,userHasAuthenticated:e.userHasAuthenticated,previouslyLoggedIn:e.previouslyLoggedIn}},function(e){return{dispatchShowLoginWindow:function(t){return e({type:"CHANGE_USER_LOGIN_WINDOW_STATE",loginState:t})},dispatchToggleCartModal:function(t){return e(O(t))},dispatchShowRegisterWindow:function(t){return e(function(e){return{type:"CHANGE_USER_REGISTER_WINDOW_STATE",registerWindowState:e}}(t))},fetchFromServer:function(t){return e(f(t))}}})(se),ie=function(e){function t(){return Object(m.a)(this,t),Object(g.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){if(window.location.search.length>0)try{var e=JSON.parse(decodeURIComponent(window.location.search.slice(1)));localStorage.setItem("serverPort",e.serverPort),localStorage.setItem("dashboardPort",e.dashboardPort),localStorage.setItem("serverAddress",e.serverAddress)}catch(t){console.log("malformed serverport")}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce,null),r.a.createElement(H,null),r.a.createElement(J,null),r.a.createElement(V,null),r.a.createElement(j,null))}}]),t}(n.Component),le=ie=Object(i.b)(function(e){return{cartModalState:e.cartModalState,loading:e.loading,cartItems:e.cartItems,userEmail:e.userEmail}},function(e){return{connectToMasterServer:function(){return e({type:"CONNECT_TO_MASTER_SERVER"})}}})(ie),ue=a(23),de=R.a.mark(ye),me=R.a.mark(Re),pe=R.a.mark(Ce),ge=R.a.mark(Ae),he=R.a.mark(Le),Ee=R.a.mark(De),fe=R.a.mark(ke),Se=R.a.mark(Me),Oe=R.a.mark(Ne),Ie=R.a.mark(xe),be=R.a.mark(We),Te=R.a.mark(Pe),we=R.a.mark(Ge),ve=R.a.mark(Fe),_e=R.a.mark(He),je=R.a.mark(Ue);function ye(){var e;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("FETCHING NEWS"),t.next=4,fetch("http://192.168.56.102:5687/?GIVE=ITEM").then(function(e){return e.json()});case 4:return e=t.sent,console.log(e),t.next=8,Object(ue.b)({type:"NEWS_RECEIVED",json:e});case 8:t.next=15;break;case 10:return t.prev=10,t.t0=t.catch(0),console.log("bummer"),t.next=15,Object(ue.b)({type:"GET_ERROR"});case 15:case"end":return t.stop()}},de,null,[[0,10]])}function Re(){var e;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("GETING ITEMS"),t.prev=1,t.next=4,fetch("http://192.168.56.102:5687",{method:"POST",mode:"cors",dataType:"jsonp",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchType:"fullItemInfo",query:{itemID:"1234567"}})}).then(function(e){return e.json()});case 4:return e=t.sent,console.log(e),t.next=8,Object(ue.b)({type:"RECEIVED_ITEMS",items:e});case 8:t.next=15;break;case 10:return t.prev=10,t.t0=t.catch(1),console.log("bummer"),t.next=15,Object(ue.b)({type:"POST_ERROR"});case 15:case"end":return t.stop()}},me,null,[[1,10]])}function Ce(e){return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("saga for searchterm"),console.log(e),console.log(e.searchTerm),console.log("Here is the returned data"),t.next=6,Object(ue.b)({type:"SEARCH_RESULT",searchResult:e});case 6:case"end":return t.stop()}},pe)}function Ae(e){var t,a,n;return R.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t={time0:0,time1:1,elapsed:0},a={sva:"http://"+localStorage.serverAddress+":"+localStorage.serverPort},console.log(a),r.prev=3,t.time0=Date.now(),r.next=7,fetch("http://"+localStorage.serverAddress+":"+localStorage.serverPort,{method:"POST",mode:"cors",dataType:"jsonp",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchType:e.searchObj.searchType,query:e.searchObj.query})}).then(function(e){return e.json()});case 7:return n=r.sent,t.time1=Date.now(),t.elapsed=t.time1-t.time0,console.log(t),fetch(localStorage.serverAddress+":"+localStorage.dashboardPort,{method:"POST",mode:"cors",dataType:"jsonp",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchType:e.searchObj.searchType,query:e.searchObj.query,timer:t,userEmail:localStorage.userEmail})}),r.next=14,Object(ue.b)({type:e.searchObj.yieldAction,items:n.rows});case 14:r.next=21;break;case 16:return r.prev=16,r.t0=r.catch(3),console.log("fetch from server error"),r.next=21,Object(ue.b)({type:"POST_ERROR"});case 21:case"end":return r.stop()}},ge,null,[[3,16]])}function Le(e){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://web.njit.edu/~mjk29/reactMasterServer1.php",{method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({sendID:"qwe"})}).then(function(e){return e.json()}).then(function(e){console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^6"),console.log(e)});case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^6"),e.next=10,Object(ue.b)({type:"POST_ERROR"});case 10:case"end":return e.stop()}},he,null,[[0,5]])}function De(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("PRINTING ITEMS"),e.next=3,Object(ue.b)({type:"PRINT_ITEMS"});case 3:case"end":return e.stop()}},Ee)}function ke(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)("GET_NEWS",ye);case 2:case"end":return e.stop()}},fe)}function Me(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)("GET_ITEMS",Re);case 2:case"end":return e.stop()}},Se)}function Ne(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)("GET_ITEMS",De);case 2:case"end":return e.stop()}},Oe)}function xe(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)("SEARCH_TERM",Ce);case 2:case"end":return e.stop()}},Ie)}function We(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)("FETCH_FROM_SERVER",Ae);case 2:case"end":return e.stop()}},be)}function Pe(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)("ADD_ITEM_TO_CART",Ae);case 2:case"end":return e.stop()}},Te)}function Ge(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)("LOGIN_USER",Ae);case 2:case"end":return e.stop()}},we)}function Fe(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)("REMOVE_ITEM_FROM_CART",Ae);case 2:case"end":return e.stop()}},ve)}function He(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)("CONNECT_TO_MASTER_SERVER",Le);case 2:case"end":return e.stop()}},_e)}function Ue(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.a)([ke(),Me(),Ne(),xe(),We(),Pe(),Ge(),Fe(),He()]);case 2:case"end":return e.stop()}},je)}var qe=a(153),Ve={REGION:"us-east-1",URL:"https://oco3d53axf.execute-api.us-east-1.amazonaws.com/prod/hello"},ze={REGION:"us-east-2",USER_POOL_ID:"us-east-2_JPUacg84r",APP_CLIENT_ID:"qn8njsu4ka9u6ssvbd2n47lmu",IDENTITY_POOL_ID:"us-east-2:cea56946-c081-4154-a035-056e8423522f"},Je=(a(356),Object(o.a)());localStorage.hasOwnProperty("userEmail")?"undefined"===localStorage.userEmail&&localStorage.setItem("userEmail",Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)):localStorage.setItem("userEmail",Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),console.log(localStorage.name);var Be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,Ke=Object(c.d)(d,{loading:!1,singleItem:[],multipleItems:[],cartItems:{},userEmail:localStorage.userEmail,loginWindowState:!1,cartModalState:!1,userHasAuthenticated:!1,previouslyLoggedIn:!1,registerWindowState:!1},Be(Object(c.a)(Je)));G.a.configure({Auth:{mandatorySignIn:!0,region:ze.REGION,userPoolId:ze.USER_POOL_ID,identityPoolId:ze.IDENTITY_POOL_ID,userPoolWebClientId:ze.APP_CLIENT_ID},API:{endpoints:[{name:"notes",endpoint:Ve.URL,region:Ve.REGION}]}}),Je.run(Ue),Object(s.render)(r.a.createElement(qe.a,null,r.a.createElement(i.a,{store:Ke},r.a.createElement(le,null))),document.getElementById("root"))},76:function(e,t){}},[[155,1,2]]]);
//# sourceMappingURL=main.fab3539e.chunk.js.map