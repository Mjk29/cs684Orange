(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t){},228:function(e,t,n){e.exports=n(587)},402:function(e,t,n){},587:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(227),s=n(27),c=n(50),l=n(45),i=(n(237),n(69)),u=n(15),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NEWS":return console.log("reducer for getting news"),Object(u.a)({},e,{loading:!0});case"NEWS_RECEIVED":return console.log("reducer for news received"),console.log(t.json),Object(u.a)({},e,{apiResult:t.json,loading:!1});case"GET_ITEMS":return Object(u.a)({},e,{loading:!0});case"GET_ERROR":return console.log("reducer for get error"),Object(u.a)({},e,{loading:!1});case"RECEIVED_ITEMS":return Object(u.a)({},e,{items:t.json,loading:!1});case"PRINT_ITEMS":case"SEARCH_TERM":return Object(u.a)({},e);case"SEARCH_RESULT":return console.log("heres the reducer for search result"),console.log(t),Object(u.a)({},e,{searchTerm:t.searchResult});case"FETCH_FROM_SERVER":switch(console.log("Fetch from server reduer"),console.log(t),t.searchObj.searchType){case"fetchCartItems":case"addItemToCart":case"checkoutItems":return Object(u.a)({},e);default:return Object(u.a)({},e,{loading:!0})}case"FETCHED_SINGLE_ITEM":return Object(u.a)({},e,{loading:!1,singleItem:t,multipleItems:[]});case"FETCHED_MULTIPLE_ITMES":return console.log("heres the action object in fmi"),console.log(t.items),Object(u.a)({},e,{loading:!1,singleItem:[],multipleItems:t.items});case"ADD_ITEM_TO_CART":return console.log("heres the action object in fmi"),console.log(t.item),console.log(t.item.productId),console.log(t.item.usItemId),Object(u.a)({},e,{cartItems:e.cartItems.concat(t.item)});case"LOGIN_USER":return console.log("login user action : "),console.log(t),localStorage.setItem("previouslyLoggedIn",!0),Object(u.a)({},e,{userEmail:t.searchObj.query.authEmail,userHasAuthenticated:!0});case"LOGIN_USER_UPDATE_LOCAL_VARS":return console.log("LOGIN_USER_UPDATE_LOCAL_VARS"),console.log(t),console.log(t.items.affectedRows),t.items.affectedRows,Object(u.a)({},e);case"CHANGE_USER_LOGIN_WINDOW_STATE":return console.log("CHANGE_USER_LOGIN_WINDOW_STATE : "),console.log(t),Object(u.a)({},e,{loginWindowState:t.loginState.loginWindowState});case"TOGGLE_LOGIN_MODAL":return console.log(e),Object(u.a)({},e,{loginWindowState:!e.loginWindowState});case"TOGGLE_CART_MODAL":return console.log(e),Object(u.a)({},e,{cartModalState:!e.cartModalState});case"ADD_ENTIRE_ITEM_DATA_TO_CART":return console.log("HERE IS TE ADD_ENTIRE_ITEM_DATA_TO_CART "),console.log(t),console.log(t.items[0]),Object(u.a)({},e,{cartItems:Object(u.a)({},e.cartItems,Object(i.a)({},t.items[0].productId,2)),loading:!1});case"REMOVE_ITEM_FROM_CART":return console.log(t),Object(u.a)({},e);case"FETCHED_CART_ITEMS":return console.log("FETCHED_CART_ITEMS"),console.log(t),Object(u.a)({},e,{loading:!1,cartItems:t.items});case"CHECKOUT_ITEMS":return Object(u.a)({},e);case"CONNECT_TO_MASTER_SERVER":return console.log("CONNECTING TO MASTER SERVER "),Object(u.a)({},e,{loading:!0});default:return e}},p=n(38),m=n(39),d=n(41),h=n(40),E=n(42),f=n(212),O=n(213),b=n.n(O),I=n(129),S=n.n(I),T=n(214),j=n.n(T),_=n(215),y=n.n(_),v=n(216),R=n.n(v),C=n(92),A=n.n(C),w=n(217),L=n.n(w),M=n(218),N=n.n(M),D=n(125),k=[{label:"Afghanistan"},{label:"Aland Islands"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia, Plurinational State of"},{label:"Bonaire, Sint Eustatius and Saba"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Bouvet Island"},{label:"Brazil"},{label:"British Indian Ocean Territory"},{label:"Brunei Darussalam"}];function x(e){var t=e.classes,n=e.inputRef,a=void 0===n?function(){}:n,o=e.ref,s=Object(f.a)(e,["classes","inputRef","ref"]);return r.a.createElement(R.a,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){o(e),a(e)},classes:{input:t.input}}},s))}function F(e,t){var n=t.query,a=t.isHighlighted,o=j()(e.label,n),s=y()(e.label,o);return r.a.createElement(L.a,{selected:a,component:"div"},r.a.createElement("div",null,s.map(function(e,t){return e.highlight?r.a.createElement("span",{key:String(t),style:{fontWeight:500}},e.text):r.a.createElement("strong",{key:String(t),style:{fontWeight:300}},e.text)})))}function P(e){var t=b()(e.trim()).toLowerCase(),n=t.length,a=0;return 0===n?[]:k.filter(function(e){var r=a<5&&e.label.slice(0,n).toLowerCase()===t;return r&&(a+=1),r})}function H(e){return e.label}var G=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={single:"",popper:"",suggestions:[]},n.handleSuggestionsFetchRequested=function(e){var t=e.value;n.setState({suggestions:P(t)})},n.handleSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.handleChange=function(e){return function(t,a){var r=a.newValue;n.setState(Object(i.a)({},e,r))}},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n={renderInputComponent:x,suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.handleSuggestionsFetchRequested,onSuggestionsClearRequested:this.handleSuggestionsClearRequested,getSuggestionValue:H,renderSuggestion:F};return r.a.createElement("div",{className:t.root},r.a.createElement(S.a,Object.assign({},n,{inputProps:{classes:t,placeholder:"Search a country (start with a)",value:this.state.single,onChange:this.handleChange("single")},theme:{container:t.container,suggestionsContainerOpen:t.suggestionsContainerOpen,suggestionsList:t.suggestionsList,suggestion:t.suggestion},renderSuggestionsContainer:function(e){return r.a.createElement(A.a,Object.assign({},e.containerProps,{square:!0}),e.children)}})),r.a.createElement("div",{className:t.divider}),r.a.createElement(S.a,Object.assign({},n,{inputProps:{classes:t,label:"Label",placeholder:"With Popper",value:this.state.popper,onChange:this.handleChange("popper"),inputRef:function(t){e.popperNode=t},InputLabelProps:{shrink:!0}},theme:{suggestionsList:t.suggestionsList,suggestion:t.suggestion},renderSuggestionsContainer:function(t){return r.a.createElement(N.a,{anchorEl:e.popperNode,open:Boolean(t.children)},r.a.createElement(A.a,Object.assign({square:!0},t.containerProps,{style:{width:e.popperNode?e.popperNode.clientWidth:null}}),t.children))}})))}}]),t}(r.a.Component),W=(Object(D.withStyles)(function(e){return{root:{height:250,flexGrow:1},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},divider:{height:2*e.spacing.unit}}})(G),n(127)),U=function(e){return{type:"FETCH_FROM_SERVER",searchObj:e}},q=function(e){return{type:"LOGIN_USER",searchObj:e}},B=function(e){return{type:"TOGGLE_CART_MODAL",cartModalState:e}},V=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={allowNew:!1,isLoading:!1,multiple:!1,options:[]},n.itemSearch=function(){n.props.triggerParentUpdate(n.state.singleItemInfo),console.log(n.state.selected[0].productId),fetch("http://afsconnect1.njit.edu:5688/",{method:"POST",mode:"cors",dataType:"jsonp",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchType:"fullItemInfo",query:{productId:n.state.selected[0].productId,usItemId:n.state.selected[0].usItemId}})}).then(function(e){return e.json()}).then(function(e){console.log(e),n.setState({singleItemInfo:e}),n.setState({isLoading:!1})}).catch(function(e){console.log(e)})},n.fetchfunction=function(e){console.log("Here is the query: "+e),console.log("fetch function"),fetch("http://afsconnect1.njit.edu:5688/",{method:"POST",mode:"cors",dataType:"jsonp",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchType:"autoCompleteSearchBar",query:e})}).then(function(e){return e.json()}).then(function(e){console.log(e),n.setState({options:e.rows}),console.log(n.state.options),n.setState({isLoading:!1})}).catch(function(e){console.log(e)})},n._handleSearch=function(e){console.log("handling searchj"),n.setState({isLoading:!0}),n.fetchfunction(e)},n.onKeyDown=function(e){console.log("keydown"),console.log(e.key),console.log(n.state.userInput),"Enter"==e.key&&n.props.fetchFromServer({query:n.state.userInput,searchType:"multipleItemSearch",yieldAction:"FETCHED_MULTIPLE_ITMES"})},n.checkState=function(e){console.log("Checking state"),console.log(e)},n.state={response:!1,searchInput:""},n.queryResponse=[],n.autoCompleteResponse=[],n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(W.a,Object.assign({},this.state,{labelKey:"title",isLoading:this.state.isLoading,minLength:3,onInputChange:function(t){return e.setState({userInput:t})},onSearch:this._handleSearch,onKeyDown:this.onKeyDown})))}}]),t}(a.Component),z=V=Object(l.b)(function(e){return{apiResult:e.apiResult,loading:e.loading}},function(e){return{searchTerm:function(t){return e(function(e){return{type:"SEARCH_TERM",searchTerm:e}}(t))},fetchFromServer:function(t){return e(U(t))}}})(V),J=(n(402),n(589)),K=n(590),Y=n(224),$=n(222),X=n.n($),Q=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={allowNew:!1,isLoading:!1,multiple:!1,options:[]},n.addtoCart=function(e){console.log(e)},n.test=function(){console.log("TESTING"),console.log(n.props)},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"itemPrinter",value:function(){var e=this;if(0!=this.props.loading)return r.a.createElement("div",null,"loading");if(0!=this.props.multipleItems.length){console.log("rendering multiple items");var t=this.props.multipleItems.map(function(t){return r.a.createElement("div",{className:"contact-card"},r.a.createElement(J.a,{fullHeight:!0,style:{"text-align":"center"}},r.a.createElement(K.a,null,r.a.createElement("img",{style:{width:150,height:150},src:t.imageUrl+".jpeg?odnHeight=150&odnWidth=150&odnBg=FFFFFF"})),r.a.createElement(K.a,null,"$"+t.price.toFixed(2)+"\n"),r.a.createElement(K.a,null,t.title+"\n"),r.a.createElement(K.a,null,r.a.createElement(Y.a,{color:"warning",onClick:function(){return e.props.fetchFromServer({searchType:"addItemToCart",yieldAction:"UPDATE_CART_DISPLAY",query:{item:{productId:t.productId,usItemId:t.usItemId},quantity:e.refs[JSON.stringify({productId:t.productId,usItemId:t.usItemId})].state.value,userEmail:e.props.userEmail}})}},"add to cart"),r.a.createElement(X.a,{min:1,max:100,value:1,strict:!0,id:JSON.stringify({productId:t.productId,usItemId:t.usItemId}),ref:JSON.stringify({productId:t.productId,usItemId:t.usItemId})}))))});return console.log("Heres the render"),console.log(t),t}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"contacts"},this.itemPrinter()))}}]),t}(a.Component),Z=Q=Object(l.b)(function(e){return{apiResult:e.apiResult,loading:e.loading,singleItem:e.singleItem,multipleItems:e.multipleItems,userEmail:e.userEmail}},function(e){return{addItemToCart:function(t){return e({type:"ADD_ITEM_TO_CART",item:t})},fetchFromServer:function(t){return e(U(t))}}})(Q),ee=n(20),te=n.n(ee),ne=n(225),ae=n(9),re=n(591),oe=n(607),se=n(592),ce=n(593),le=n(594),ie=n(595),ue=n(596),ge=n(78),pe=n.n(ge),me=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).updateUsername=function(e){n.setState({username:e.target.value})},n.updatePassword=function(e){n.setState({password:e.target.value})},n.userLogin=Object(ne.a)(te.a.mark(function e(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0==n.state.username.length||0==n.state.password.length){e.next=11;break}return e.prev=1,e.next=4,ge.Auth.signIn(n.state.username,n.state.password);case 4:n.setState({userHasAuthenticated:!0,loginError:""}),n.props.userLoginDispatch({query:{tempToken:localStorage.userEmail,authEmail:n.state.username},searchType:"modifyCartToken",yieldAction:"LOGIN_USER_UPDATE_LOCAL_VARS"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n.setState({loginError:e.t0.message,userHasAuthenticated:!1});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),n.loginErrorDisplay=function(){return 0!=n.state.loginError.length?r.a.createElement(re.a,{color:"danger"},n.state.loginError):1==n.state.userHasAuthenticated?r.a.createElement(re.a,{color:"success"},"User logged in"):void 0},n.state={loading:!1,modal:!1,loginWindowState:!1,username:"admin@example.com",password:"Passw0rd!",loginError:"",userHasAuthenticated:!1},n.toggle=n.toggle.bind(Object(ae.a)(Object(ae.a)(n))),n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.props.toggleLoginWindowDispatch(this.props.loginWindowState)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(oe.a,{isOpen:this.props.loginWindowState,toggle:this.toggle,className:this.props.className},r.a.createElement(se.a,{toggle:this.toggle},"React Web Store Login"),r.a.createElement(ce.a,null,r.a.createElement(le.a,null,r.a.createElement(ie.a,{value:this.state.username,onChange:this.updateUsername,placeholder:"username"})),r.a.createElement(le.a,null,r.a.createElement(ie.a,{type:"password",value:this.state.password,onChange:this.updatePassword,placeholder:"username"}))),r.a.createElement(ue.a,null,this.loginErrorDisplay(),r.a.createElement(Y.a,{color:"success",onClick:this.userLogin},"login")," ")))}}]),t}(r.a.Component),de=me=Object(l.b)(function(e){return{loginWindowState:e.loginWindowState,loading:e.loading}},function(e){return{toggleLoginWindowDispatch:function(t){return e({type:"TOGGLE_LOGIN_MODAL",loginState:t})},userLoginDispatch:function(t){return e(q(t))}}})(me),he=n(597),Ee=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).removeItemFromCart=function(e){console.log("ASDASDASDASD"),console.log(e)},n.renderCartItems=function(){console.log("HERE ARE THE CART ITEMS"),console.log(n.props.cartItems),console.log(typeof n.props.cartItems);var e=0;if(n.props.cartItems.length>0)n.props.cartItems.map(function(t){e+=t.price});if(n.state.totalPrice=e,n.props.cartItems.length>0)return n.props.cartItems.map(function(e){return r.a.createElement("div",null,r.a.createElement(K.a,null,r.a.createElement(he.a,{md:{size:"1",offset:0}},r.a.createElement("img",{style:{width:50,height:50},src:e.imageUrl+".jpeg?odnHeight=50&odnWidth=50&odnBg=FFFFFF"})),r.a.createElement(he.a,{md:{size:"7",offset:0}},e.title),r.a.createElement(he.a,null,r.a.createElement(K.a,{md:{size:".5",offset:0}},"Price: $"+e.price.toFixed(2)),r.a.createElement(K.a,{md:{size:".5",offset:0}},"Quantity: "+e.quantity)),r.a.createElement(he.a,{md:{size:".5",offset:0}},"Subtotal: $"+(e.quantity*e.price).toFixed(2)),r.a.createElement(he.a,{md:{size:"1",offset:0}},r.a.createElement(Y.a,{outline:!0,color:"danger",size:"sm",onClick:function(){return n.props.removeItemFromCartDispatch({searchType:"removeItemFromCart",yieldAction:"UPDATE_CART_DISPLAY",query:{userEmail:n.props.userEmail,productId:e.productID,usItemId:e.usItemId}})}},"Remove"))),r.a.createElement(K.a,null,r.a.createElement(he.a,null,r.a.createElement("hr",{style:{color:"#ffffff",backgroundColor:"#ffffff",height:1}}))))})},n.checkoutItems=function(){n.props.fetchFromServer({query:n.props.userEmail,searchType:"checkoutItems",yieldAction:"TOGGLE_CART_MODAL"})},n.state={loading:!1,modal:!1,cartModalState:!1,username:"",password:"",loginError:"",userHasAuthenticated:!1,totalPrice:0},n.toggle=n.toggle.bind(Object(ae.a)(Object(ae.a)(n))),n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.props.toggleCartModalAction(this.props.cartModalState)}},{key:"fetchCartItemsFromDB",value:function(){console.log("fetchCartItemsFromDB function"),this.props.fetchFromServer({query:this.props.userEmail,searchType:"fetchCartItems",yieldAction:"FETCHED_CART_ITEMS"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(oe.a,{size:"xl",isOpen:this.props.cartModalState,toggle:this.toggle,className:this.props.className},r.a.createElement(se.a,{toggle:this.toggle},"React Web Store Login"),r.a.createElement(ce.a,null,r.a.createElement(J.a,null,r.a.createElement("div",null,this.renderCartItems()))),r.a.createElement(ue.a,null,r.a.createElement(K.a,null,r.a.createElement("h4",null,"Total:    $ "+this.state.totalPrice.toFixed(2))),r.a.createElement(K.a,null,r.a.createElement(Y.a,{outline:!0,color:"info",size:"lg",onClick:function(){return e.checkoutItems()}},"Checkout")))))}}]),t}(r.a.Component),fe=Ee=Object(l.b)(function(e){return{cartModalState:e.cartModalState,loading:e.loading,cartItems:e.cartItems,userEmail:e.userEmail}},function(e){return{toggleCartModalAction:function(t){return e(B(t))},userLoginDispatch:function(t){return e(q(t))},removeItemFromCartDispatch:function(t){return e({type:"REMOVE_ITEM_FROM_CART",searchObj:t})},fetchFromServer:function(t){return e(U(t))}}})(Ee),Oe=n(598),be=n(599),Ie=n(600),Se=n(601),Te=n(602),je=n(603),_e=n(604),ye=n(605),ve=n(608),Re=n(606),Ce=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).showLoginWindow=function(){n.props.dispatchShowLoginWindow({loginWindowState:!0})},n.showShoppingCartToggle=function(){n.props.fetchFromServer({query:n.props.userEmail,searchType:"fetchCartItems",yieldAction:"FETCHED_CART_ITEMS"}),n.props.dispatchToggleCartModal({cartModalState:!n.props.cartModalState})},n.logoutUser=function(){localStorage.setItem("userEmail","undefined"),localStorage.setItem("previouslyLoggedIn",!1),window.location.reload()},n.toggle=n.toggle.bind(Object(ae.a)(Object(ae.a)(n))),n.state={isOpen:!1},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"accountState",value:function(){if(console.log("her are the account stare proops"),console.log(this.props),!1===this.props.loading){if(!0===this.props.userHasAuthenticated)return localStorage.setItem("userEmail",this.props.userEmail),r.a.createElement(Oe.a,{right:!0},r.a.createElement(be.a,null,"User account"),r.a.createElement(be.a,null,"User Cart"),r.a.createElement(be.a,{divider:!0}),r.a.createElement(be.a,null,"Reset"));if(!1===this.props.userHasAuthenticated)return r.a.createElement(Oe.a,{right:!0},r.a.createElement(be.a,{onClick:this.showLoginWindow},"Login"),r.a.createElement(be.a,null,"Register"),r.a.createElement(be.a,{divider:!0}),r.a.createElement(be.a,{onClick:this.logoutUser},"Logout"))}}},{key:"displayUserName",value:function(){return"true"===localStorage.previouslyLoggedIn?r.a.createElement("div",null,this.props.userEmail):r.a.createElement("div",null,"guest")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ie.a,{color:"light",light:!0,expand:"xl"},r.a.createElement(J.a,{fluid:"true"},r.a.createElement(Se.a,{onClick:this.toggle}),r.a.createElement(Te.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(K.a,null,r.a.createElement(je.a,{className:"ml-auto",navbar:!0},r.a.createElement(he.a,{sm:{size:2,offset:0}},r.a.createElement(_e.a,null,"React Webstore")),r.a.createElement(he.a,{sm:{size:8,offset:0}},r.a.createElement(ye.a,null,r.a.createElement(z,null))),r.a.createElement(he.a,{sm:{size:2,offset:0}},r.a.createElement(Y.a,{outline:!0,color:"success",onClick:this.showShoppingCartToggle},"    Shopping Cart    ")),r.a.createElement(he.a,{sm:{size:3,offset:1}},r.a.createElement(K.a,null,"Hello"),r.a.createElement(K.a,null,this.displayUserName())),r.a.createElement(he.a,{sm:{size:2,offset:0}},r.a.createElement(ve.a,{nav:!0,inNavbar:!0},r.a.createElement(Re.a,{nav:!0,caret:!0},"Account Settings"),r.a.createElement("div",{className:"contacts"},this.accountState())))))))))}}]),t}(r.a.Component),Ae=Ce=Object(l.b)(function(e){return{userEmail:e.userEmail,loading:e.loading,userHasAuthenticated:e.userHasAuthenticated,previouslyLoggedIn:e.previouslyLoggedIn}},function(e){return{dispatchShowLoginWindow:function(t){return e({type:"CHANGE_USER_LOGIN_WINDOW_STATE",loginState:t})},dispatchToggleCartModal:function(t){return e(B(t))},fetchFromServer:function(t){return e(U(t))}}})(Ce),we=(a.Component,function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log("App mounted "),this.props.connectToMasterServer({query:this.props.userEmail,searchType:"fetchCartItems",yieldAction:"FETCHED_CART_ITEMS"})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ae,null),r.a.createElement(de,null),r.a.createElement(fe,null),r.a.createElement(Z,null))}}]),t}(a.Component)),Le=we=Object(l.b)(function(e){return{cartModalState:e.cartModalState,loading:e.loading,cartItems:e.cartItems,userEmail:e.userEmail}},function(e){return{connectToMasterServer:function(){return e({type:"CONNECT_TO_MASTER_SERVER"})}}})(we),Me=n(35),Ne=te.a.mark(Ye),De=te.a.mark($e),ke=te.a.mark(Xe),xe=te.a.mark(Qe),Fe=te.a.mark(Ze),Pe=te.a.mark(et),He=te.a.mark(tt),Ge=te.a.mark(nt),We=te.a.mark(at),Ue=te.a.mark(rt),qe=te.a.mark(ot),Be=te.a.mark(st),Ve=te.a.mark(ct),ze=te.a.mark(lt),Je=te.a.mark(it),Ke=te.a.mark(ut);function Ye(){var e;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("FETCHING NEWS"),t.next=4,fetch("http://192.168.56.102:5687/?GIVE=ITEM").then(function(e){return e.json()});case 4:return e=t.sent,console.log(e),t.next=8,Object(Me.b)({type:"NEWS_RECEIVED",json:e});case 8:t.next=15;break;case 10:return t.prev=10,t.t0=t.catch(0),console.log("bummer"),t.next=15,Object(Me.b)({type:"GET_ERROR"});case 15:case"end":return t.stop()}},Ne,null,[[0,10]])}function $e(){var e;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("GETING ITEMS"),t.prev=1,t.next=4,fetch("http://192.168.56.102:5687",{method:"POST",mode:"cors",dataType:"jsonp",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchType:"fullItemInfo",query:{itemID:"1234567"}})}).then(function(e){return e.json()});case 4:return e=t.sent,console.log(e),t.next=8,Object(Me.b)({type:"RECEIVED_ITEMS",items:e});case 8:t.next=15;break;case 10:return t.prev=10,t.t0=t.catch(1),console.log("bummer"),t.next=15,Object(Me.b)({type:"POST_ERROR"});case 15:case"end":return t.stop()}},De,null,[[1,10]])}function Xe(e){return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("saga for searchterm"),console.log(e),console.log(e.searchTerm),console.log("Here is the returned data"),t.next=6,Object(Me.b)({type:"SEARCH_RESULT",searchResult:e});case 6:case"end":return t.stop()}},ke)}function Qe(e){var t;return te.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("fetch fqrom server function"),console.log(e),n.prev=2,n.next=5,fetch("http://afsconnect1.njit.edu:5688",{method:"POST",mode:"cors",dataType:"jsonp",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({searchType:e.searchObj.searchType,query:e.searchObj.query})}).then(function(e){return e.json()});case 5:return t=n.sent,console.log("FETCHED FROM SDERVER"),console.log(t),console.log(t.rows),console.log("FETCHED FROM SDERVER"),n.next=12,Object(Me.b)({type:e.searchObj.yieldAction,items:t.rows});case 12:n.next=19;break;case 14:return n.prev=14,n.t0=n.catch(2),console.log("fetch from server error"),n.next=19,Object(Me.b)({type:"POST_ERROR"});case 19:case"end":return n.stop()}},xe,null,[[2,14]])}function Ze(e){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://web.njit.edu/~mjk29/reactMasterServer1.php",{method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({sendID:"reactAppTeamOrange"})}).then(function(e){return e.json()}).then(function(e){console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^6"),console.log(e)});case 3:e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^6"),e.next=11,Object(Me.b)({type:"POST_ERROR"});case 11:case"end":return e.stop()}},Fe,null,[[0,6]])}function et(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("PRINTING ITEMS"),e.next=3,Object(Me.b)({type:"PRINT_ITEMS"});case 3:case"end":return e.stop()}},Pe)}function tt(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.c)("GET_NEWS",Ye);case 2:case"end":return e.stop()}},He)}function nt(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.c)("GET_ITEMS",$e);case 2:case"end":return e.stop()}},Ge)}function at(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.c)("GET_ITEMS",et);case 2:case"end":return e.stop()}},We)}function rt(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.c)("SEARCH_TERM",Xe);case 2:e.sent;case 3:case"end":return e.stop()}},Ue)}function ot(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.c)("FETCH_FROM_SERVER",Qe);case 2:e.sent;case 3:case"end":return e.stop()}},qe)}function st(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.c)("ADD_ITEM_TO_CART",Qe);case 2:e.sent;case 3:case"end":return e.stop()}},Be)}function ct(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.c)("LOGIN_USER",Qe);case 2:e.sent;case 3:case"end":return e.stop()}},Ve)}function lt(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.c)("REMOVE_ITEM_FROM_CART",Qe);case 2:e.sent;case 3:case"end":return e.stop()}},ze)}function it(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.c)("CONNECT_TO_MASTER_SERVER",Ze);case 2:e.sent;case 3:case"end":return e.stop()}},Je)}function ut(){return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Me.a)([tt(),nt(),at(),rt(),ot(),st(),ct(),lt(),it()]);case 2:case"end":return e.stop()}},Ke)}var gt=n(128),pt={REGION:"us-east-1",URL:"https://oco3d53axf.execute-api.us-east-1.amazonaws.com/prod/hello"},mt={REGION:"us-east-2",USER_POOL_ID:"us-east-2_JPUacg84r",APP_CLIENT_ID:"qn8njsu4ka9u6ssvbd2n47lmu",IDENTITY_POOL_ID:"us-east-2:cea56946-c081-4154-a035-056e8423522f"},dt=(n(584),Object(o.a)());localStorage.hasOwnProperty("userEmail")?"undefined"===localStorage.userEmail&&localStorage.setItem("userEmail",Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)):localStorage.setItem("userEmail",Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),console.log(localStorage.name);var ht=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,Et=Object(c.d)(g,{loading:!1,singleItem:[],multipleItems:[],cartItems:{},userEmail:localStorage.userEmail,loginWindowState:!1,cartModalState:!1,userHasAuthenticated:!1,previouslyLoggedIn:!1},ht(Object(c.a)(dt)));pe.a.configure({Auth:{mandatorySignIn:!0,region:mt.REGION,userPoolId:mt.USER_POOL_ID,identityPoolId:mt.IDENTITY_POOL_ID,userPoolWebClientId:mt.APP_CLIENT_ID},API:{endpoints:[{name:"notes",endpoint:pt.URL,region:pt.REGION}]}}),dt.run(ut),Object(s.render)(r.a.createElement(gt.a,null,r.a.createElement(l.a,{store:Et},r.a.createElement(Le,null))),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.2f19ade7.chunk.js.map